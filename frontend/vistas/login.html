<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Pantalla de Login</title>
  <!-- Bootstrap CSS -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet"> 
  <!-- Fuente Montserrat -->
  <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;600&display=swap" rel="stylesheet">
  <!-- Estilos personalizados -->
  <link rel="stylesheet" href="/css/modoOscuro.css">
  <style>
    html, body {
      height: 100vh;
      margin: 0;
      font-family: 'Montserrat', sans-serif;
      overflow: hidden; /* Evita el scroll */
      background-image: url('../assets/Trama2.jpg');
      background-repeat: no-repeat;
      background-position: center;
      background-attachment: fixed;
      background-color: #4200f700;
      background-size: cover;
      display: flex;
      flex-direction: column;
    }
    main {
      flex-grow: 1;
      display: flex;
      justify-content: center;
      align-items: center;
    }
    .logo {
      max-width: 200px;
    }
  </style>
</head>
<body>
  <!-- Navbar -->
  <!-- Navbar -->
<nav class="navbar bg-light px-3">
  <div class="container-fluid d-flex align-items-center">   
    <!-- Marquee ocupa todo el ancho disponible -->
    <marquee behavior="scroll" direction="left" class="flex-grow-1 me-3 fs-3 fw-bold">
      Bienvenido a 
      <img src="../assets/logo.png" alt="Logo" class="logo-welcome" style="height: 30px;"> autoservicio, explor√° nuestros productos oficiales y retiralos al momento.
    </marquee>
  </div>
  <div class="form-check form-switch mb-0">
    <input class="form-check-input" type="checkbox" role="switch" id="modoToggle">
    <label class="form-check-label" for="modoToggle">üåô</label>
  </div>
</nav>
  <!-- Contenido principal -->
  <main>
    <div class="row justify-content-center w-100">
      <div class="col-md-4 col-lg-4">
        <div class="card p-5 shadow-sm">
          <form class="formulario-entrada">
            <div class="text-center mb-4">
              <img src="../assets/logo.png" alt="Logo" class="logo">
            </div>
            <div class="mb-3">
              <label for="nombre" class="form-label">Nombre</label>
              <input type="text" class="input-nombre form-control" id="nombre" placeholder="Ingresa tu nombre">
            </div>
            <button type="submit" class="btn btn-primary w-100 nombreEnviado">Ingresar</button>
            <span class="incorrecto text-danger"></span>
          </form> 
        </div>
      </div>
    </div>
  </main>
  <!-- Footer -->
  <footer class="bg-white py-3">
  <div class="d-flex justify-content-center align-items-center">
    <a href="/api/admin/" class="btn btn-primary">Ingresar como Administrador</a>

  </div>
    <div class="container d-flex justify-content-end">
      <div class="text-end">
        <div>Efren Castaneda</div>
        <div>Agustin Luzuriaga</div>
      </div>
    </div>
  </footer>
<script>
  function guardarNombreLS(nombre) {
  localStorage.setItem('nombre',nombre)
  }
  function obtenerNombre(){
    const mensaje = document.querySelector('.incorrecto');
    const btnIngresar = document.querySelector('.nombreEnviado');
    const valorInput = document.querySelector('.input-nombre');
    //Eventos cuando dan click a ingresar
    btnIngresar.addEventListener('click', (event) => {
    event.preventDefault(); // evita que se recargue la p√°gina
    const valorBuscado = valorInput.value.toLowerCase().trim();
    console.log(valorBuscado);
    if (valorBuscado.length <= 2) {
      console.log(valorBuscado);
      mensaje.textContent = "Error en nombre";
      valorInput.value = "";
      return;
    }
  guardarNombreLS(valorBuscado);
  window.location.href = "vistas/listadoProductos.html";
  });
  }
  const toggle = document.getElementById('modoToggle');
  const label = toggle.nextElementSibling;
  const body = document.body;
  // Al cargar, aplicar modo guardado
  const modoGuardado = localStorage.getItem('modo');
  if (modoGuardado === 'oscuro') {
    body.classList.add('dark-mode');
    toggle.checked = true;
    label.textContent = '‚òÄÔ∏è';
  }
  toggle.addEventListener('change', () => {
    body.classList.toggle('dark-mode');
    const esOscuro = body.classList.contains('dark-mode');
    localStorage.setItem('modo', esOscuro ? 'oscuro' : 'claro');
    label.textContent = esOscuro ? '‚òÄÔ∏è' : 'üåô';
  });
obtenerNombre();
</script>
</body>
</html>